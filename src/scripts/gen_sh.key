#!/bin/bash

length=64
letters_count=$(( (length / 2) + 1 ))  # более 50% — минимум 33 буквы
others_count=$(( length - letters_count ))

letters='A-Za-z'
others='0-9!\-\?#'

# Функция для генерации случайной строки из указанного набора символов и длиной count
gen_random() {
  local count=$1
  local charset=$2
  tr -dc "$charset" < /dev/urandom | head -c "$count"
}

# Генерируем части
part_letters=$(gen_random "$letters_count" "$letters")
part_others=$(gen_random "$others_count" "$others")

# Объединяем и перемешиваем символы
combined="$part_letters$part_others"
shuffled=$(echo "$combined" | fold -w1 | shuf | tr -d '\n')

echo "$shuffled"
